pico-8 cartridge // http://www.pico-8.com
version 16
__lua__
-- hack - dungeon game

local view = {}
view.x = 0
view.y = 0

local player = {}
player.x = 64
player.y = 48
player.col = player.x/8
player.row = player.y/8

function _draw()
	cls()
	map(0,0, -view.x,-view.y)
	spr(17,64,64)
end

function _update()

	local old_player = {}
 old_player.x = player.x
 old_player.y = player.y
	
	if btn(0) then
		player.x = player.x - 1
	end
	if btn(1) then
		player.x = player.x + 1
	end
	if btn(2) then
		player.y = player.y - 1
	end
	if btn(3) then
		player.y = player.y + 1
	end
	
	player.col = (player.x+4)/8
	player.row = (player.y+4)/8
	
	local tile = mget(player.col,
	                  player.row)
	                  
	if tile > 0 then
		player.x = old_player.x
		player.y = old_player.y
	end
																				
	view.x = player.x - 64
	view.y = player.y - 64

end

__gfx__
00000000555055550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000560550650009000000000900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700560055550000900000009900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000006055500009790000097900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000555650060009790000097900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700605506650009790000009000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000605505550000900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000555055560000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000ff0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000ffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000ffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000002ff2000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000022222200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000022222200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000002222000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0101010101010101010101010101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0100000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0100000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0100000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0102000000000000000000000000020100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0100000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0100000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0100000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010101010101010101010101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
